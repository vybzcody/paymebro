import { jsxs as _jsxs, jsx as _jsx } from "react/jsx-runtime";
import { Dialog, DialogContent, DialogTitle } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Copy, X, Smartphone } from "lucide-react";
import { toast } from "sonner";
import { VisuallyHidden } from "@radix-ui/react-visually-hidden";
export function QRReceiptModal({ open, onOpenChange, qrCode }) {
    if (!qrCode)
        return null;
    const copyToClipboard = (text) => {
        navigator.clipboard.writeText(text);
        toast.success('Copied to clipboard!');
    };
    return (_jsx(Dialog, { open: open, onOpenChange: onOpenChange, children: _jsxs(DialogContent, { className: "max-w-sm p-0 bg-white rounded-2xl overflow-hidden", children: [_jsx(VisuallyHidden, { children: _jsxs(DialogTitle, { children: ["Payment QR Code for ", qrCode.title] }) }), _jsxs("div", { className: "bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white relative", children: [_jsx(Button, { variant: "ghost", size: "sm", onClick: () => onOpenChange(false), className: "absolute top-4 right-4 text-white hover:bg-white/20", children: _jsx(X, { className: "h-4 w-4" }) }), _jsxs("div", { className: "text-center", children: [_jsx("h2", { className: "text-xl font-bold mb-1", children: "Payment Request" }), _jsx("p", { className: "text-blue-100 text-sm", children: qrCode.title })] })] }), _jsxs("div", { className: "px-6 py-4 text-center border-b", children: [_jsxs("div", { className: "text-3xl font-bold text-gray-900", children: [qrCode.amount, " ", qrCode.currency] }), _jsx("p", { className: "text-gray-500 text-sm mt-1", children: "Amount to pay" })] }), _jsxs("div", { className: "px-6 py-6 text-center bg-gray-50", children: [_jsx("div", { className: "bg-white p-4 rounded-xl shadow-sm inline-block", children: _jsx("img", { src: qrCode.qr_code_url, alt: "Payment QR Code", className: "w-48 h-48 mx-auto", style: { imageRendering: 'pixelated' } }) }), _jsxs("div", { className: "flex items-center justify-center mt-4 text-gray-600", children: [_jsx(Smartphone, { className: "h-4 w-4 mr-2" }), _jsx("span", { className: "text-sm", children: "Scan with your Solana wallet" })] })] }), _jsxs("div", { className: "px-6 py-4 space-y-3 border-t bg-gray-50", children: [_jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-gray-600", children: "Reference" }), _jsxs("span", { className: "font-mono text-xs bg-gray-200 px-2 py-1 rounded", children: [qrCode.reference.slice(0, 8), "..."] })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-gray-600", children: "Payments" }), _jsx(Badge, { variant: "secondary", children: qrCode.payment_count })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-gray-600", children: "Total Collected" }), _jsxs("span", { className: "font-semibold", children: [qrCode.total_collected, " ", qrCode.currency] })] })] }), _jsxs("div", { className: "p-6 pt-4", children: [_jsxs(Button, { onClick: () => copyToClipboard(qrCode.payment_url), className: "w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700", children: [_jsx(Copy, { className: "h-4 w-4 mr-2" }), "Copy Payment Link"] }), _jsx("p", { className: "text-xs text-gray-500 text-center mt-3", children: "Share this QR code or payment link with your customers" })] })] }) }));
}
